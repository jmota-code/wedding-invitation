---

import { deleteGuest, getGuests } from "@repository/guest";
import GuestList from "@components/GuestList.astro";

if (Astro.request.method === "DELETE") {
  console.log("Method allowed");

  const { id } = Astro.params as { id: string };
  await deleteGuest(+id);
}

const guests = await getGuests();
---

<GuestList guests={guests} />

